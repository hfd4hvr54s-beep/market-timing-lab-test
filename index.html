<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Market Timing Lab</title>

<style>
html,body{height:100%;margin:0;overflow:hidden}

:root{
  --vino:#3a0f1c;
  --vino-dark:#160509;
  --negro:#000;
  --blanco:#fff;
  --glass:rgba(0,0,0,.4);
  --border:rgba(255,255,255,.18);
  --text:#f2e9ec;
  --soft:#d6c3c9;
}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  background:radial-gradient(circle at top,#451624 0%,var(--vino) 45%,var(--vino-dark) 100%);
  color:var(--text);
}

/* ===== SELLO ===== */
.seal{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  z-index:0;
  opacity:.08;
}

.seal svg{width:240px;height:240px}

/* ===== CONTENIDO ===== */
.content{
  position:relative;
  z-index:2;
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:40px 24px;
  gap:18px;
}

h1{
  font-size:1.1rem;
  letter-spacing:.18em;
  font-style:italic;
  color:#000;
  background:rgba(255,255,255,.88);
  padding:6px 18px;
  border-radius:6px;
}

.subtitle{font-size:.95rem;color:var(--soft)}

p{
  max-width:640px;
  font-size:.9rem;
  line-height:1.6;
  color:var(--soft);
}

input{
  width:220px;
  padding:10px;
  border-radius:6px;
  border:1px solid var(--border);
  background:var(--glass);
  color:var(--text);
}

button{
  margin-top:16px;
  padding:10px 34px;
  border-radius:999px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.12);
  color:var(--text);
  cursor:not-allowed;
}

button.enabled{
  cursor:pointer;
  background:rgba(255,255,255,.22);
}

/* ===== MODAL TÉRMINOS ===== */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10;
}

.modal-content{
  max-width:800px;
  max-height:85vh;
  overflow-y:auto;
  background:#1a070c;
  padding:26px;
  border-radius:10px;
  text-align:left;
  color:var(--soft);
}

.modal-content h3{color:var(--text)}
.close{text-align:right;margin-top:20px}
.close button{cursor:pointer}

/* ===== TRANSICIÓN ===== */
body.loading .content{opacity:0}
body.loading .seal{opacity:.9;transform:scale(1.1)}
</style>
</head>

<body>

<!-- SELLO -->
<div class="seal">
<svg viewBox="0 0 400 400">
  <circle cx="200" cy="200" r="160" fill="none" stroke="#fff" stroke-width="2"/>
  <circle cx="200" cy="200" r="135" fill="none" stroke="#fff" stroke-width="1"/>
  <text x="200" y="220" text-anchor="middle"
    font-size="40"
    style="font-family:'Brush Script MT',cursive;fill:#fff">
    Market Timing Lab
  </text>
</svg>
</div>

<!-- CONTENIDO -->
<div class="content">
  <h1>MARKET TIMING LAB</h1>
  <div class="subtitle">Entorno privado · Acceso restringido</div>

  <p>
Herramienta experimental de lectura contextual del mercado.
No emite señales ni recomendaciones financieras.
  </p>

  <input id="user" placeholder="Usuario">
  <input id="pass" type="password" placeholder="Contraseña">

  <label style="font-size:.85rem">
    <input type="checkbox" id="accept">
    He leído y acepto los
    <a href="#" onclick="openTerms();return false;">Términos y Condiciones</a>
  </label>

  <button id="enter" onclick="login()">Acceder</button>
</div>

<!-- MODAL -->
<div class="modal" id="termsModal">
  <div class="modal-content">
    <h3>Términos de Uso – Market Timing Lab</h3>

     <p>
<b>1. Introducción</b><br>
El presente documento regula el acceso y uso de Market Timing Lab (en adelante, “el Proyecto”). El acceso implica aceptación expresa y sin reservas.
</p>

<p>
<b>2. Naturaleza del Proyecto</b><br>
Market Timing Lab es un proyecto privado y experimental orientado a la evaluación del estado del mercado y del timing operativo. Se encuentra en fase de pruebas controladas.
</p>

<p>
<b>3. Alcance y finalidad</b><br>
Herramienta de lectura contextual destinada a apoyar el análisis del mercado. No sustituye el criterio humano ni garantiza resultados.
</p>

<p>
<b>4. Lo que el Proyecto NO ofrece</b><br>
No ejecuta operaciones, no proporciona señales, no emite recomendaciones financieras, no constituye asesoramiento de inversión ni garantiza rentabilidad.
</p>

<p>
<b>5. Resultados y limitaciones</b><br>
Los resultados son informativos, pueden variar y están sujetos a ajustes, cambios o eliminación sin previo aviso.
</p>

<p>
<b>6. Carácter privado y confidencialidad</b><br>
Toda la información, resultados, metodologías y datos del Proyecto son CONFIDENCIALES y no pueden ser divulgados ni compartidos con terceros o desarrolladores externos.
</p>

<p>
<b>7. Uso responsable</b><br>
El usuario se compromete a utilizar el Proyecto de forma responsable y consciente, sin atribuirle resultados financieros propios.
</p>

<p>
<b>8. Acceso y modificaciones</b><br>
El acceso puede ser suspendido o revocado en cualquier momento. La estructura del Proyecto puede ser modificada sin previo aviso.
</p>

<p>
<b>9. Exención de responsabilidad</b><br>
El responsable del Proyecto no será responsable por pérdidas financieras ni decisiones tomadas por el usuario.
</p>

<p>
<b>10. Propiedad intelectual</b><br>
Todo el contenido, lógica, metodología, código y diseño del Proyecto es propiedad intelectual de:<br><br>
<b>Jonathan Xavier Benitez Cruz</b><br>
Documento de identidad: 175018xxxx
</p>

<p>
<b>11. Aceptación</b><br>
El acceso y uso del Proyecto implica aceptación total de estos Términos de Uso.
</p>

    <div class="close">
      <button onclick="closeTerms()">Cerrar</button>
    </div>
  </div>
</div>

<script>
const user = document.getElementById("user");
const pass = document.getElementById("pass");
const accept = document.getElementById("accept");
const btn = document.getElementById("enter");

/* ===== VALIDACIÓN ===== */
function validate(){
  const ok = user.value && pass.value && accept.checked;
  btn.disabled = !ok;
  btn.classList.toggle("enabled", ok);
}
user.oninput = pass.oninput = accept.onchange = validate;

/* ===== MODAL ===== */
function openTerms(){
  document.getElementById("termsModal").style.display="flex";
}
function closeTerms(){
  document.getElementById("termsModal").style.display="none";
}

/* ===== LOGIN REAL ===== */
async function login(){
  if(btn.disabled) return;

  const res = await fetch("/login",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      username:user.value,
      password:pass.value
    })
  });

  if(!res.ok){
    alert("Acceso denegado");
    return;
  }

  sessionStorage.setItem("mtl_session","active");
  document.body.classList.add("loading");

  setTimeout(()=>{
    window.location.href="/app.html";
  },2000);
}
</script>

</body>
</html>
